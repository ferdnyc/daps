<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Image Handling | User Guide | DAPS 3.0</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using DAPS XSL Stylesheets 2.0.13 (based on DocBook XSL Stylesheets snapshot) - chunked" /><meta name="product-name" content="DAPS" /><meta name="product-number" content="3.0" /><meta name="book-title" content="User Guide" /><meta name="chapter-title" content="Chapter 5. Image Handling" /><meta name="keywords" content="DAPS, DocBook Authoring and Publishing Suite, DocBook, XML, Toolchain, User Guide" /><meta name="keywords" content="DAPS, DocBook Authoring and Publishing Suite, DocBook, XML, Tool chain, Command Line" /><link rel="home" href="index.html" title="DAPS Documentation" /><link rel="up" href="book.daps.user.html" title="User Guide" /><link rel="prev" href="cha.daps.user.output.html" title="Chapter 4. Generating Output Formats" /><link rel="next" href="cha.daps.user.modular.html" title="Chapter 6. Modularizing Documentation Projects" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="nofooter offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><a href="https://github.com/openSUSE/daps"><img src="static/images/logo.png" alt="Logo" /></a></div><div class="crumbs"><a class="book-link" href="index.html" title="DAPS Documentation"><span class="book-icon">DAPS Documentation</span></a><span> › </span><a class="crumb" href="book.daps.user.html">User Guide</a><span> › </span><a class="crumb" href="cha.daps.user.img.html">Image Handling</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>User Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre.daps.user.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.daps.user.inst.html"><span class="number">1 </span><span class="name">System Requirements and Installation</span></a></li><li class="inactive"><a href="cha.daps.user.features.html"><span class="number">2 </span><span class="name">Conceptual Overview</span></a></li><li class="inactive"><a href="cha.daps.user.edit.html"><span class="number">3 </span><span class="name">Editing DocBook XML</span></a></li><li class="inactive"><a href="cha.daps.user.output.html"><span class="number">4 </span><span class="name">Generating Output Formats</span></a></li><li class="inactive"><a href="cha.daps.user.img.html"><span class="number">5 </span><span class="name">Image Handling</span></a></li><li class="inactive"><a href="cha.daps.user.modular.html"><span class="number">6 </span><span class="name">Modularizing Documentation Projects</span></a></li><li class="inactive"><a href="cha.daps.user.review.html"><span class="number">7 </span><span class="name">Review and Translation Processes</span></a></li><li class="inactive"><a href="cha.daps.user.deploy.html"><span class="number">8 </span><span class="name">Packaging and Deploying Your Documentation</span></a></li><li class="inactive"><a href="cha.daps.user.layout.html"><span class="number">9 </span><span class="name">Customizing Layout of the Output Formats</span></a></li><li class="inactive"><a href="cha.daps.user.config.html"><span class="number">10 </span><span class="name">Configuring DAPS</span></a></li><li class="inactive"><a href="cha.daps.user.trouble.html"><span class="number">11 </span><span class="name">Troubleshooting</span></a></li><li class="inactive"><a href="gl.daps.html"><span class="number"> </span><span class="name">Glossary</span></a></li><li class="inactive"><a href="app.daps.user.migrate.html"><span class="number">A </span><span class="name">Migrating Existing DocBook Projects</span></a></li><li class="inactive"><a href="app.daps.user.editors.html"><span class="number">B </span><span class="name">Editor-specific Information</span></a></li><li class="inactive"><a href="app.daps.user.docupdates.html"><span class="number">C </span><span class="name">What's New?</span></a></li><li class="inactive"><a href="bk01apd.html"><span class="number">D </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 4. Generating Output Formats" href="cha.daps.user.output.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Modularizing Documentation Projects" href="cha.daps.user.modular.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="DAPS Documentation"><span class="book-icon">DAPS Documentation</span></a><span> › </span><a class="crumb" href="book.daps.user.html">User Guide</a><span> › </span><a class="crumb" href="cha.daps.user.img.html">Image Handling</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 4. Generating Output Formats" href="cha.daps.user.output.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Modularizing Documentation Projects" href="cha.daps.user.modular.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="chapter " id="cha.daps.user.img"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname ">DAPS</span> <span class="productnumber ">3.0</span></div><div><h1 class="title"><span class="number">5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Image Handling</span> </h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.daps.user.img.html#sec.daps.user.imgs.usage"><span class="number">5.1 </span><span class="name">Supported Image Types</span></a></span></dt><dt><span class="sect1"><a href="cha.daps.user.img.html#sec.daps.user.imgs.src.gen"><span class="number">5.2 </span><span class="name">Source Images and Generated Images</span></a></span></dt><dt><span class="sect1"><a href="cha.daps.user.img.html#sec.daps.user.imgs.req"><span class="number">5.3 </span><span class="name">File Name Requirements</span></a></span></dt><dt><span class="sect1"><a href="cha.daps.user.img.html#sec.daps.user.imgs.refer"><span class="number">5.4 </span><span class="name">Referencing Images</span></a></span></dt><dt><span class="sect1"><a href="cha.daps.user.img.html#sec.daps.user.imgs.manage"><span class="number">5.5 </span><span class="name">DAPS Commands for Managing Images</span></a></span></dt></dl></div></div><div class="abstract "><p>
   This chapter covers the following topics:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Image formats supported by DAPS
     </p></li><li class="listitem "><p>
      Distinction between source images and generated images. The
      image directory structure required by DAPS.
     </p></li><li class="listitem "><p>
      Image directory structure required by DAPS.
     </p></li><li class="listitem "><p>
      File name requirements for source images
     </p></li><li class="listitem "><p>
      Referencing images in DocBook files
     </p></li><li class="listitem "><p>
      Managing images with DAPS commands
     </p></li></ul></div><p>
  </p></div><div class="sect1 " id="sec.daps.user.imgs.usage"><div class="titlepage"><div><div><h2 class="title" id="sec.daps.user.imgs.usage"><span class="number">5.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Supported Image Types</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage">#</a></h2></div></div></div><p>
   Depending on the output format you generate (PDF or HTML,
   for example), DAPS automatically transforms the source images you
   provide (which are also referenced in your XML sources) into the appropriate output
   formats. For example, SVG images are converted to PNG for HTML builds, or
   color images to grayscale for black-and-white PDFs. You only need to decide
   which file format to use as source format. Of course, this decision depends on
   the purpose of the image. For more details, see the DAPS User Guide.
  </p><p>DAPS supports the following types of images:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     DIA (input format only)
    </p></li><li class="listitem "><p>
     EPS (experimental)
    </p></li><li class="listitem "><p>
     FIG (input format only)
    </p></li><li class="listitem "><p>
     JPEG
    </p></li><li class="listitem "><p>
     PDF (experimental - only works for PDF output and with XEP formatter)
    </p></li><li class="listitem "><p>
     PNG
    </p></li><li class="listitem "><p>
     SVG
    </p></li></ul></div><p>
    There are two types of image formats: pixel-based (also called bitmap
    formats) and vector-based.  In pixel-based image formats the data
    describes the characteristics of each pixel. Vector-based image formats
    contain a geometric description that can be rendered
    smoothly. Vector-based images are
    resolution-independent— they can be displayed or printed as
    large or small as you want without showing pixel artifacts.
  </p><p>Among the supported image types listed below, only JPEG and PNG are pixel-based
   image formats.</p><div class="sect2 " id="sec.daps.user.imgs.usage.dia"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.dia"><span class="number">5.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DIA</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.dia">#</a></h3></div></div></div><p>Can only be used as input format for DAPS.</p><p>
    DIA is a vector image format which means it is resolution-independent.
    Images in this format can be displayed or printed as large or small as you
    want without showing pixel artifacts. The format is suited especially well
    for creating diagrams. DIA files are XML files that are automatically
    compressed when saving, thus they are often quite small.
   </p><p>
    DIA files can be created using the <a class="ulink" href="https://live.gnome.org/Dia" target="_blank">Dia<span class="ulink-url"> (https://live.gnome.org/Dia)</span></a> application. Dia is a diagram
    editor for drawing entity-relationship diagrams, UML diagrams, and
    flowcharts.
   </p><p>
    Dia makes it easy to connect elements, add text, and use simple fill and
    border colors. Although Dia can import <acronym class="acronym ">SVG</acronym> files as
    shapes, it is not useful for freely drawing shapes itself. Dia is not
    designed for creating complex or effect-heavy vector illustrations and
    information graphics.
   </p></div><div class="sect2 " id="sec.daps.user.imgs.usage.eps"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.eps"><span class="number">5.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">EPS</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.eps">#</a></h3></div></div></div><p>
    The <span class="emphasis"><em>Encapsulated PostScript</em></span> (EPS) format is a
    general purpose vector image format. As a Postscript-based format, it is
    similar to <acronym class="acronym ">PDF</acronym>. There is currently no mainstream
    Linux image editor software that creates <acronym class="acronym ">EPS</acronym> files
    natively, although various applications can export into it.
   </p><p>
    Where possible, use <acronym class="acronym ">SVG</acronym> files instead of
    <acronym class="acronym ">EPS</acronym> files (also because EPS images only work with XEP
    formatter at the moment).  <acronym class="acronym ">EPS</acronym> can occasionally serve
    as an exchange format with contributors that use Adobe* graphics software.
   </p><div id="id-1.3.8.3.8.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Limited Support with DAPS</h6><p>
     This image format is only supported in combination with the XEP formatter. Using this format
     might also lead to longer document creation times.
    </p></div></div><div class="sect2 " id="sec.daps.user.imgs.usage.fig"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.fig"><span class="number">5.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">FIG</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.fig">#</a></h3></div></div></div><p>Can only be used as input format for DAPS.</p><p>
    <acronym class="acronym ">FIG</acronym> is a vector image format that can be created with
    the <a class="ulink" href="http://www.xfig.org" target="_blank">Xfig<span class="ulink-url"> (http://www.xfig.org)</span></a> application. The support
    for <acronym class="acronym ">FIG</acronym> files can be useful when working with legacy
    images. However, it is recommended to use <acronym class="acronym ">SVG</acronym> format
    for new illustrations and <acronym class="acronym ">DIA</acronym> for new diagrams.
   </p></div><div class="sect2 " id="sec.daps.user.imgs.usage.jpeg"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.jpeg"><span class="number">5.1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">JPEG</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.jpeg">#</a></h3></div></div></div><p>
     <acronym class="acronym ">JPEG</acronym> stands for <span class="emphasis"><em>Joint Photographic Experts
     Group</em></span>, the organization responsible for maintaining the JPEG
     standard designed specifically for storing photographic images. JPEG is
     the most common image format used by digital cameras and widely used for
     displaying photographs on the Web. Because of its lossy compression
     algorithm, the resulting file sizes are rather small compared to lossless
     graphics format such as TIFF, GIF, PNG, or a raw image format. The
     compression algorithm works well for photographs and paintings with
     smooth variations of tone and color. However, JPEG is not well suited for
     textual or iconic graphics, because sharp contrasts between adjacent
     pixels in such images can cause noticeable artifacts. It is also not
     advisable to use JPEG for files that will undergo multiple edits: the
     image quality deteriorates each time the file is decompressed and
     recompressed. This is especially true if the image is cropped or shifted.
   </p></div><div class="sect2 " id="sec.daps.user.imgs.usage.pdf"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.pdf"><span class="number">5.1.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">PDF</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.pdf">#</a></h3></div></div></div><p>
    The <span class="emphasis"><em>Portable Document File</em></span> format is a general
    purpose, page-based, fixed-layout document format. <acronym class="acronym ">PDF</acronym>
    is a PostScript-based format. There is a large number of Linux tools that
    can export <acronym class="acronym ">PDF</acronym> files natively. <acronym class="acronym ">PDF</acronym>
    files can also be used as an exchange format with contributors that cannot
    export to <acronym class="acronym ">SVG</acronym>.
   </p><div id="id-1.3.8.3.11.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Limited Support with DAPS</h6><p>
     This image format is only supported in combination with the XEP formatter. Using this format
     might also lead to longer document creation times.
    </p></div></div><div class="sect2 " id="sec.daps.user.imgs.usage.png"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.png"><span class="number">5.1.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">PNG</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.png">#</a></h3></div></div></div><p>
    The <span class="emphasis"><em>Portable Network Graphics</em></span> is a pixel-based format
    suitable for use with raster (point-based) images like screenshots and
    photographs.
   </p><p>
    <acronym class="acronym ">PNG</acronym> files can be created in several
    applications, including the GIMP graphics editor.
   </p><div id="id-1.3.8.3.12.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Make PNG Files Smaller with <code class="command">daps optipng</code>
    </h6><p> To decrease the file size of PNG images without affecting image quality, use
     <code class="command">daps optipng</code>. It removes unused colors and alpha channels from the source
     PNG files. Note that it is the only DAPS command that alters sources.</p><p>
     To run <code class="command">optipng</code> on all <acronym class="acronym ">PNG</acronym> images used in the book:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> -d <em class="replaceable ">PATH_TO_DC_FILE</em> optipng</pre></div></div></div><div class="sect2 " id="sec.daps.user.imgs.usage.svg"><div class="titlepage"><div><div><h3 class="title" id="sec.daps.user.imgs.usage.svg"><span class="number">5.1.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">SVG</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.usage.svg">#</a></h3></div></div></div><p>
    The <span class="emphasis"><em>Scalable Vector Graphics</em></span> format is a general
    purpose, vector image format. <acronym class="acronym ">SVG</acronym> is an XML format
    which can be displayed in most browsers and edited in many graphics
    programs.
   </p><div id="id-1.3.8.3.13.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Use <span class="emphasis"><em>Plain SVG</em></span> Format</h6><p>
     Some SVG editors offer the option of saving your file in a custom
     SVG-based format or in <span class="emphasis"><em>Plain SVG</em></span>
     (<span class="emphasis"><em>standard SVG</em></span>). In this case, always use the plain
     version. Custom SVG formats might not be compatible with the components
     used by DAPS for processing SVG files.
    </p><p>XEP and FOP formatter only support SVG 1.0.</p></div><p>
    The multi-platform open source <a class="ulink" href="http://inkscape.org/" target="_blank">Inkscape<span class="ulink-url"> (http://inkscape.org/)</span></a> editor is a good choice for working with <acronym class="acronym ">SVG</acronym> files. You can also create <acronym class="acronym ">SVG</acronym>
    files in Adobe applications like Illustrator*. SVG is the preferred vector image format for DAPS.
   </p></div></div><div class="sect1 " id="sec.daps.user.imgs.src.gen"><div class="titlepage"><div><div><h2 class="title" id="sec.daps.user.imgs.src.gen"><span class="number">5.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Source Images and Generated Images</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.src.gen">#</a></h2></div></div></div><p>
   DAPS differentiates between source images (any images that
   have been created outside of DAPS) and images that are generated by
   DAPS.
  </p><p>
   This clear distinction is also visible in the file system: source images
   are stored in a different directory than generated images.
  </p><p>
       DAPS requires you to use a specific directory structure for images. All
     images that you reference from your DocBook files must be stored in
     a subdirectory of the project directory named
     <code class="filename">images/src/file_extension</code>. For example, <acronym class="acronym ">PNG</acronym>
     files must be stored under <code class="filename">images/src/png</code>. If you used
     <code class="command">daps-init</code> to set up your project, the appropriate
     directories should already exist.
 For a more detailed reference to the directory structure, see
   <a class="xref" href="cha.daps.user.features.html#sec.daps.user.basics.dirstruct" title="2.5. Directory Structure">Section 2.5, “Directory Structure”</a>.
  </p><p>
   DAPS uses source images to automatically generate appropriate image
   formats for each output format. The geneerated images are stored in
   <code class="filename">build/.images/</code> within the project directory. If an
   image referenced in your DocBook files is changed, DAPS detects this
   and generates new versions of the image automatically.
  </p><p>
   DAPS provides commands for getting an overview of source images or
   generated images and for managing both. For details, refer to <a class="xref" href="cha.daps.user.img.html#sec.daps.user.imgs.manage" title="5.5. DAPS Commands for Managing Images">Section 5.5, “DAPS Commands for Managing Images”</a>
  </p></div><div class="sect1 " id="sec.daps.user.imgs.req"><div class="titlepage"><div><div><h2 class="title" id="sec.daps.user.imgs.req"><span class="number">5.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">File Name Requirements</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.req">#</a></h2></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.8.5.2.1"><span class="term ">XML extension required</span></dt><dd><p>
       Always use the .xml extension, so DAPS can recognize the files, which are
       needed to build the document.
     </p></dd><dt id="id-1.3.8.5.2.2"><span class="term ">No Spaces and Colons In File and Directory Names</span></dt><dd><p>Avoid spaces and colons in file and directory names. 
      The <code class="command">make</code> command
       in DAPS has trouble understanding them. Use underscores
       (<code class="filename">_</code>) or hyphens (<code class="filename">-</code>) instead.
       </p><p>It is good practice to only use the following characters for
       file or directory names: alphabetic characters [a-z] or [A-Z], numerical
       characters [0-9], hyphens (<code class="literal">-</code>), or underscores
       (<code class="literal">_</code>).</p></dd><dt id="id-1.3.8.5.2.3"><span class="term ">Unique Image Names</span></dt><dd><p>Always store just one file with a particular name within the
      <code class="filename">images/src</code> directory of a project. As DAPS tries to
      create any missing image formats from original images, it will otherwise
      not know which one of the duplicate files to use for converting to the
      missing formats.</p><p>Additionally, having a file called <code class="filename">example.png</code>
      and another called <code class="filename">example.svg</code> in the same documentation
      project will often lead to  questions like: Which file to use where? Do
      both files display the same content? Are both files current, or is one
      outdated?</p><p>
      When invoking DAPS with the parameter <code class="command"><em class="parameter ">-v</em></code>,
      a warning will be printed whenever a file name appears twice within a project.
      To specifically check for image name clashes upfront, use the
      <code class="command">daps list-images-multisrc</code> subcommand.
     </p><p>
      It is a good idea to find a consistent file naming scheme. For example, when
      documenting software, it might prove helpful to include the name of the
      application at the beginning of the file name. You can also use prefixes like
     <code class="filename">screenshot_</code> and <code class="filename">diagram_</code>
      to separate between different types of images.
    </p></dd></dl></div><div id="id-1.3.8.5.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Hint on Using UTF-8 characters in File Names</h6><p>
     Depending on your environment, the build process could fail if you are using
     file names with UTF-8 characters. Run the <code class="command">locale</code>
     command and check if the LANG environment variable contains UTF-8. Otherwise
     adjust the LANG environment variable accordingly.
   </p></div></div><div class="sect1 " id="sec.daps.user.imgs.refer"><div class="titlepage"><div><div><h2 class="title" id="sec.daps.user.imgs.refer"><span class="number">5.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Referencing Images</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.refer">#</a></h2></div></div></div><p>
    As your images need to be located in a defined directory structure,
    DAPS automatically finds the path to your images. Therefore,
    referencing images in your XML sources is very straightforward: 
    you must not include any path in the
    <code class="sgmltag-attribute">fileref</code> attribute—the
    file name is enough.
   </p><p>
    Furthermore, DocBook allows you to reference more than one image to
    distinguish between different output formats. For example, you can add
    two references pointing to the same file, but using different images
    widths for PDF and HTML output. Use the
    <code class="sgmltag-attribute">role</code> attribute to specify the
    output format, for example <code class="sgmltag-attvalue">fo</code> or
    <code class="sgmltag-attvalue">html</code>.
    </p><div class="complex-example"><div class="example" id="ex.daps.user.xml.img.ref"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 5.1: </span><span class="name">Image Reference in an XML File </span><a title="Permalink" class="permalink" href="cha.daps.user.img.html#ex.daps.user.xml.img.ref">#</a></h6></div><div class="example-contents"><p>Let us assume you have a source image file named <code class="filename">graphic.dia</code>. To make
    DAPS use an SVG version of your image for PDF output (<code class="literal">role="fo"</code>) and
    a PNG version for HTML output (<code class="literal">role="html"</code>), reference the images as follows:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;figure&gt;
  &lt;title&gt;Main Window&lt;/title&gt;
  &lt;mediaobject&gt;
    &lt;imageobject role="fo"&gt;
      &lt;imagedata fileref="graphic.svg" width="70%"/&gt;
    &lt;/imageobject&gt;
    &lt;imageobject role="html"&gt;
      &lt;imagedata fileref="graphic.png" width="75%"/&gt;
    &lt;/imageobject&gt;
  &lt;/mediaobject&gt;
&lt;/figure&gt;</pre></div></div></div></div></div><div class="sect1 " id="sec.daps.user.imgs.manage"><div class="titlepage"><div><div><h2 class="title" id="sec.daps.user.imgs.manage"><span class="number">5.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DAPS Commands for Managing Images</span> <a title="Permalink" class="permalink" href="cha.daps.user.img.html#sec.daps.user.imgs.manage">#</a></h2></div></div></div><p>
    DAPS offers several subcommands for managing images in a
    documentation project. These commands can be used to list images that are
    used or not used in a project, or referenced in a DocBook file but missing
    from the file system.
  </p><p>
    In addition to that, you can check the source images for non-unique
     names and reduce the size
    of the <acronym class="acronym ">PNG</acronym> files with an optimizer.
  </p><div class="variablelist " id="vl.daps.user.imgs.manage.cmds"><div class="variablelist-title-wrap"><h6 class="variablelist-title"><span class="name">Subcommands for Image Listing </span><a title="Permalink" class="permalink" href="cha.daps.user.img.html#vl.daps.user.imgs.manage.cmds">#</a></h6></div><dl class="variablelist"><dt id="id-1.3.8.7.4.2"><span class="term ">Listing All Graphics Referenced in a Documentation Project
     </span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> <em class="parameter ">-d</em> <em class="replaceable ">PATH_TO_DC_FILE</em> list-srcfiles --noent --noxml --nodc</pre></div><p> Lists all graphics file used by the DocBook files that are referenced in the document
      specified by the current DC file. </p></dd><dt id="id-1.3.8.7.4.3"><span class="term ">
      Listing Missing Graphics in a Documentation Project</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> <em class="parameter ">-d</em> <em class="replaceable ">PATH_TO_DC_FILE</em> list-images-missing</pre></div><p> Lists all graphics that are referenced in your DocBook files, but
      could not be found in the file system. In case there are any missing
      graphics, you cannot build your project. </p></dd><dt id="id-1.3.8.7.4.4"><span class="term ">Listing Unused Graphics in a Documentation Project</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> <em class="parameter ">-d</em> <em class="replaceable ">PATH_TO_DC_FILE</em> list-srcfiles-unused --imgonly</pre></div><p> Lists all graphics that are <span class="emphasis"><em>not</em></span> referenced in
      your DocBook files, but are available in the
       <code class="filename">images/src</code> subdirectories.  This command is useful if
      you want to clean up your source images and want to know which images are
      no longer needed for the documentation project. </p><p>
		 Use this command in a directory containing a single DC-file or a
		 DC-file referencing the whole <code class="sgmltag-element">set</code>. Or else, 
		 images would be listed that may be used in files not referenced 
		 by the current DC-file.
	 </p><div id="id-1.3.8.7.4.4.2.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Use a <code class="sgmltag-element">set</code> to Check for Superfluous
       Files</h6><p> If you are storing multiple DC files in the same project
       directory, use the DC file of a <code class="sgmltag-element">set</code> for this check.
       As it contains all articles and books in the project directory, this makes
       sure that any files found during the check are indeed unnecessary.
      </p></div></dd><dt id="id-1.3.8.7.4.5"><span class="term ">Checking for Non-Unique File Names</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> <em class="parameter ">-d</em> <em class="replaceable ">PATH_TO_DC_FILE</em> list-images-multisrc</pre></div><p> Checks the <code class="filename">images/src</code> subdirectories for
      non-unique base names. For more information, refer to <a class="xref" href="cha.daps.user.img.html#sec.daps.user.imgs.req" title="5.3. File Name Requirements">Section 5.3, “File Name Requirements”</a>. </p></dd><dt id="id-1.3.8.7.4.6"><span class="term ">Reducing the File Size of PNG Graphics</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> <em class="parameter ">-d</em> <em class="replaceable ">PATH_TO_DC_FILE</em> optipng</pre></div><p> Recompresses any PNG files in the
       <code class="filename">images/src/png</code> directory with the PNG optimizer
       <code class="literal">optipng</code> without reducing the image quality. </p></dd><dt id="id-1.3.8.7.4.7"><span class="term ">Deleting All Generated Images for a Documentation Project</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> -d <em class="replaceable ">PATH_TO_DC_FILE</em> clean-images</pre></div><p> Deletes all images generated for the specified DC file. This is
      only necessary in rare cases; For example, when a file previously had an
      incorrect time stamp, or after you have changed your global DAPS
      configuration. In these cases, instead of re-generating the image, DAPS might wrongly assume that an
      already generated image should be inserted into the output file.</p></dd><dt id="id-1.3.8.7.4.8"><span class="term ">Viewing All Images Referenced in a File or Project</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> -d DC-daps-example getimages --show --viewer ristretto</pre></div><p>Opens and shows all images referenced in the documentation project in the specified image
      viewer (in this example, it is Ristretto). Alternatively, specify your preferred image viewer in the
       <em class="parameter ">IMG_VIEWER</em> parameter in the DAPS configuration file. To show
      only the images referenced in a specific XML file, specify the file with
       <code class="option">--file</code>. </p></dd></dl></div><div id="id-1.3.8.7.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Output of File Listings</h6><p>By default, the output of the listing commands is a list of file names
    (including the absolute path), all printed in one line with the file names
    separated by blanks. This default output format is useful for piping (or
    copying and pasting) the output for use with another command. </p><p>If you need a pretty printed output where each file name is listed on a
    separate line, use the <code class="option">--pretty</code> option. </p></div><p> See 
   <a class="xref" href="cha.daps.user.img.html#ex.daps.graphics.output.default" title="Default Output of an Image-related DAPS Command">Example 5.2, “Default Output of an Image-related DAPS Command”</a> and 
   <a class="xref" href="cha.daps.user.img.html#ex.daps.graphics.output.pretty" title="Pretty-printed Output of an Image-related DAPS Command">Example 5.3, “Pretty-printed Output of an Image-related DAPS
    Command”</a> for a comparison of both outputs.</p><div class="example" id="ex.daps.graphics.output.default"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 5.2: </span><span class="name">Default Output of an Image-related DAPS Command </span><a title="Permalink" class="permalink" href="cha.daps.user.img.html#ex.daps.graphics.output.default">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"><em class="replaceable ">YOUR_DOC_DIR</em>/images/src/dia/example_dia1.dia <em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png1.png <em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png2.png <em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png3.png <em class="replaceable ">YOUR_DOC_DIR</em>/images/src/svg/example_svg.svg <em class="replaceable ">YOUR_DOC_DIR</em>/images/src/fig/example_fig1.fig ...</pre></div></div></div><div class="example" id="ex.daps.graphics.output.pretty"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 5.3: </span><span class="name">Pretty-printed Output of an Image-related DAPS
    Command </span><a title="Permalink" class="permalink" href="cha.daps.user.img.html#ex.daps.graphics.output.pretty">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps -d <em class="replaceable ">PATH_TO_DC_FILE</em> list-images-multisrc --pretty</code>
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/dia/example_dia1.dia
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png1.png
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png2.png
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/png/example_png3.png
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/svg/example_svg.svg
<em class="replaceable ">YOUR_DOC_DIR</em>/images/src/fig/example_fig1.fig ...</pre></div></div></div><div id="id-1.3.8.7.9" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Use Pretty-Printed Output for Counting</h6><p> To count the number of images listed in a given output, you can combine the <em class="parameter ">--pretty</em> parameter with the
    <code class="command">wc</code> command: </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux:~&gt; </code><code class="command">daps</code> -d <em class="replaceable ">PATH_TO_DC_FILE</em> list-images-multisrc --pretty | wc -l</pre></div><p> For <a class="xref" href="cha.daps.user.img.html#ex.daps.graphics.output.pretty" title="Pretty-printed Output of an Image-related DAPS Command">Example 5.3</a>, the command above would return 
    </p><div class="verbatim-wrap"><code class="computeroutput">5</code></div><p> as value.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.daps.user.modular.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 6 </span>Modularizing Documentation Projects</span></a><a class="nav-link" href="cha.daps.user.output.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 4 </span>Generating Output Formats</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div></div></body></html>